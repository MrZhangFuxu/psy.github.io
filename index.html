<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>文章列表</title>
	<style>
		body {
			font-family: Arial, Helvetica, sans-serif;
			line-height: 1.6;
			padding: 0 10px;
		}
		h1 {
			font-size: 2rem;
			text-align: center;
			padding: 20px 0;
		}
		ul {
			list-style: none;
			padding-left: 0;
		}
		li {
			margin-bottom: 5px;
		}
		a {
			color: #333;
			text-decoration: none;
		}
		a:hover {
			text-decoration: underline;
		}
	</style>
</head>
<body>
	<h1>文章列表</h1>

	<ul id="fileList"></ul>

	<script>
		// 获取指定目录下的所有 .md 文件名
		function getMdFiles() {
			let fileList = [];
			let request = new XMLHttpRequest(); 
			request.open("GET", "/md/", false);
			request.send(null);
			let dom = document.createElement("div");
			dom.innerHTML = request.responseText;
			let links = dom.getElementsByTagName("a");
			for(let i=0; i<links.length; i++) {
				let link = links[i].getAttribute("href");
				if(link.endsWith(".md")) {
					fileList.push(link);
				}
			}
			return fileList;
		}

		// 在页面中生成文件列表
		function displayMdFiles() {
			let fileList = getMdFiles();
			let ul = document.getElementById("fileList");
			for(let i=0; i<fileList.length; i++) {
				let li = document.createElement("li");
				let a = document.createElement("a");
				a.href = fileList[i];
			    a.innerHTML = fileList[i];
			    li.appendChild(a);
			    ul.appendChild(li);
			}
		}

		displayMdFiles();
	</script>
</body>
</html>
